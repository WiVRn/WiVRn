From 8a05785464f1f8d1ba8f947b57ebf88d37177954 Mon Sep 17 00:00:00 2001
From: rcelyte <rcelyte@battletrains.org>
Date: Mon, 8 Dec 2025 19:29:28 +0000
Subject: [PATCH 08/11] d/solarxr: Fix flatpak socket path

---
 src/xrt/drivers/solarxr/solarxr_ipc_socket.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/xrt/drivers/solarxr/solarxr_ipc_socket.c b/src/xrt/drivers/solarxr/solarxr_ipc_socket.c
index d50d30310..8a958ad8c 100644
--- a/src/xrt/drivers/solarxr/solarxr_ipc_socket.c
+++ b/src/xrt/drivers/solarxr/solarxr_ipc_socket.c
@@ -129,7 +129,7 @@ solarxr_ipc_socket_find(const enum u_logging_level log_level, const char filenam
 	}
 
 	// try path used by SlimeVR flatpak
-	static const char flatpak_runtime_dir[] = "app/" SLIMEVR_IDENTIFIER "/";
+	static const char flatpak_runtime_dir[] = ".flatpak/" SLIMEVR_IDENTIFIER "/xdg-run/";
 	if (sizeof(addr.sun_path) - 1 - filename_len - runtime_dir_len >= sizeof(flatpak_runtime_dir) - 1) {
 		memcpy(&addr.sun_path[runtime_dir_len], flatpak_runtime_dir, sizeof(flatpak_runtime_dir) - 1);
 		memcpy(&addr.sun_path[runtime_dir_len + (sizeof(flatpak_runtime_dir) - 1)], filename, filename_len + 1);
-- 
2.53.0

